.ql-editor img.responsive-image {
    max-width: 100% !important;
    height: auto !important;
    display: block;
    margin: 10px auto;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.ql-editor img.responsive-image:hover {
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    transform: scale(1.02);
}

.hover-lift {
    transition: all 0.2s ease;
}

.hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.btn-group .btn-check:checked + .btn {
    background-color: var(--bs-primary);
    color: white;
}

.image-resize-control button:hover {
    background-color: #e9ecef !important;
    border-color: #adb5bd !important;
}

/* ========================================
   ✅ STYLES POUR LES VIDÉOS
   ======================================== */
.ql-editor iframe {
    max-width: 100% !important;
    width: 100% !important;
    height: auto !important;
    aspect-ratio: 16 / 9;
    border: none;
    border-radius: 8px;
    margin: 15px auto;
    display: block;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.ql-video {
    max-width: 100%;
    display: block;
    margin: 15px auto;
}

/* ========================================
   ✅ STYLES POUR LES TABLEAUX HTML BOOTSTRAP
   ======================================== */
/* Wrapper de table personnalisé pour Quill */
.ql-editor .ql-table-wrapper {
    width: 100%;
    margin: 15px 0;
    padding: 0;
    overflow-x: auto;
    display: block;
}

.ql-editor .ql-table-wrapper table,
.ql-editor table {
    width: 100% !important;
    border-collapse: collapse;
    margin: 0;
    background: white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    border-radius: 4px;
    overflow: hidden;
    font-size: 14px;
}

.ql-editor .ql-table-wrapper table td,
.ql-editor .ql-table-wrapper table th,
.ql-editor table td,
.ql-editor table th {
    border: 1px solid #dee2e6;
    padding: 10px 12px;
    text-align: left;
    vertical-align: top;
}

.ql-editor .ql-table-wrapper table th,
.ql-editor table th {
    background-color: #f8f9fa;
    font-weight: 600;
    color: #1f2937;
    border-bottom: 2px solid #cbd5e1;
}

.ql-editor .ql-table-wrapper table tbody tr:hover,
.ql-editor table tbody tr:hover {
    background-color: #f8f9fa;
}

.ql-editor .ql-table-wrapper table tbody tr:nth-child(even),
.ql-editor table tbody tr:nth-child(even) {
    background-color: #fafbfc;
}

/* Style pour les tableaux Bootstrap dans Quill */
.ql-editor .ql-table-wrapper .table,
.ql-editor .table {
    color: inherit;
    margin-bottom: 0;
}

.ql-editor .ql-table-wrapper .table-bordered,
.ql-editor .table-bordered {
    border: 1px solid #dee2e6;
}

.ql-editor .ql-table-wrapper .table-bordered td,
.ql-editor .ql-table-wrapper .table-bordered th,
.ql-editor .table-bordered td,
.ql-editor .table-bordered th {
    border: 1px solid #dee2e6;
}

/* ========================================
   ✅ STYLES POUR LES BOUTONS PERSONNALISÉS
   ======================================== */
.ql-snow .ql-toolbar button.ql-table-custom,
.ql-snow .ql-toolbar button.ql-html-custom {
    width: auto !important;
    padding: 3px 5px;
    font-size: 14px;
}

.ql-snow .ql-toolbar button.ql-table-custom i,
.ql-snow .ql-toolbar button.ql-html-custom i {
    font-size: 14px;
}

.ql-snow .ql-toolbar button.ql-table-custom:hover,
.ql-snow .ql-toolbar button.ql-html-custom:hover {
    color: #06c;
}

.ql-snow .ql-toolbar button.ql-table-custom.ql-active,
.ql-snow .ql-toolbar button.ql-html-custom.ql-active {
    color: #06c;
}

/* ========================================
   STYLES POUR LES MODALS
   ======================================== */
[id^="videoInsertModal_"] textarea,
[id^="tableInsertModal_"] input,
[id^="htmlEditModal_"] textarea {
    transition: border-color 0.2s ease;
}

[id^="videoInsertModal_"] textarea:focus,
[id^="tableInsertModal_"] input:focus,
[id^="htmlEditModal_"] textarea:focus {
    border-color: #0ea5e9;
    box-shadow: 0 0 0 0.2rem rgba(14, 165, 233, 0.15);
}

/* Style pour l'éditeur HTML avec fond sombre */
[id^="htmlEditor_"] {
    background-color: #1e293b !important;
    color: #e2e8f0 !important;
    border: 1px solid #334155 !important;
    border-radius: 6px !important;
}

[id^="htmlEditor_"]:focus {
    outline: none !important;
    border-color: #0ea5e9 !important;
    box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1) !important;
}

/* ========================================
   AMÉLIORATION DE L'ÉDITEUR QUILL
   ======================================== */

/* Augmenter la hauteur minimale de l'éditeur */
.ql-container {
    min-height: 300px;
}

/* Style pour le placeholder */
.ql-editor.ql-blank::before {
    color: #6c757d;
    font-style: italic;
}

/* Style pour les citations */
.ql-editor blockquote {
    border-left: 4px solid #ccc;
    margin-bottom: 5px;
    margin-top: 5px;
    padding-left: 16px;
    font-style: italic;
    background-color: #f8f9fa;
    padding: 10px 10px 10px 20px;
    border-radius: 4px;
}

/* Style pour les blocs de code */
.ql-editor pre.ql-syntax {
    background-color: #23241f;
    color: #f8f8f2;
    overflow: auto;
    padding: 15px;
    border-radius: 4px;
    margin: 15px 0;
}

/* Style pour le code inline */
.ql-editor code {
    background-color: #f4f4f4;
    padding: 2px 6px;
    border-radius: 3px;
    font-size: 90%;
    color: #c7254e;
}

/* ========================================
   RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
    .ql-editor .ql-table-wrapper table,
    .ql-editor table {
        font-size: 12px;
    }
    
    .ql-editor .ql-table-wrapper table td,
    .ql-editor .ql-table-wrapper table th,
    .ql-editor table td,
    .ql-editor table th {
        padding: 6px 8px;
    }
    
    .ql-editor iframe {
        margin: 10px auto;
    }
    
    /* Réduire la taille des boutons sur mobile */
    .ql-snow .ql-toolbar button {
        width: 24px;
        height: 22px;
    }
}

/* ========================================
   ANIMATIONS
   ======================================== */
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.ql-editor img {
    animation: fadeIn 0.3s ease-in;
}

.ql-editor table {
    animation: fadeIn 0.3s ease-in;
}

.ql-editor iframe {
    animation: fadeIn 0.3s ease-in;
}

/* ========================================
   ACCESSIBILITÉ
   ======================================== */

/* Focus visible pour les boutons de la toolbar */
.ql-snow .ql-toolbar button:focus {
    outline: 2px solid #0ea5e9;
    outline-offset: 2px;
}

/* Contraste amélioré pour les icônes */
.ql-snow .ql-stroke {
    stroke: #444;
}

.ql-snow.ql-toolbar button:hover .ql-stroke,
.ql-snow .ql-toolbar button:hover .ql-stroke {
    stroke: #06c;
}

/* ========================================
   IMPRESSIONS
   ======================================== */
@media print {
    .ql-toolbar {
        display: none !important;
    }
    
    .ql-editor {
        border: none !important;
        padding: 0 !important;
    }
    
    .ql-editor .ql-table-wrapper,
    .ql-editor table {
        page-break-inside: avoid;
    }
    
    .ql-editor img {
        max-width: 100% !important;
        page-break-inside: avoid;
    }
}